1   CREATE DATABASE BD2 CHARACTER SET = latin1;
2   CREATE DATABASE BD3 CHARACTER SET = UTF8;
3   CREATE TABLE juegos(
        IDJuego SMALLINT PRIMARY KEY AUTO_INCREMENT,
        Nombre VARCHAR(40) NOT NULL UNIQUE,
        Plataforma SET('PSP','Wii','PlayStation','Xbox','Nintendo DS','PC') COMMENT 'Plataformas soportadas por el juego',
        PrecioVenta FLOAT(5,2) NULL,
        PrecioAlquiler FLOAT(4,2),
        StockVenta BIGINT(10) NOT NULL,
        StockAlquiler TINYINT ZEROFILL,
        INDEX(PrecioVenta)
    )ENGINE=INNODB;
4   CREATE TABLE juegosNuevos(
        IDJuego SMALLINT PRIMARY KEY AUTO_INCREMENT,
        Nombre VARCHAR(40) NOT NULL UNIQUE,
        Plataforma SET('PSP','Wii','PlayStation','Xbox','Nintendo DS','PC') COMMENT 'Plataformas soportadas por el 			juego',
        PrecioVenta FLOAT(5,2) NULL,
        PrecioAlquiler FLOAT(4,2),
        StockVenta BIGINT(10) NOT NULL,
        StockAlquiler TINYINT ZEROFILL,
        INDEX(PrecioVenta)
    )ENGINE=INNODB;
5   RENAME TABLE juegosnuevos TO xogosnovos
6   RENAME TABLE bd2.xogosnovos TO b3.xogosnovos 
7   DROP DATABASE BD3
8   
9   CREATE TABLE socios(
        NumeroSocio INT PRIMARY KEY AUTO_INCREMENT, 
        Nombre VARCHAR(15) NOT NULL, 
        Apellidos CHAR(35) NOT NULL, 
        DNI CHAR(9) UNIQUE COMMENT 'el dni del socio', 
        País CHAR(9) NULL, Sexo ENUM('H','M'), 
        Observaciones LONGTEXT, 
        INDEX(Apellidos) 
    )ENGINE=INNODB;
10  
11  
12  CREATE TABLE alquileres( 
        IDalquiler INT PRIMARY KEY AUTO_INCREMENT, 
        Juego SMALLINT NOT NULL COMMENT 'código del juego', 
        FechaAlquiler TIMESTAMP DEFAULT CURRENT_DATE, 
        FechaDevolucion DATETIME, 
        NumeroSocio MEDIUMINT NOT NULL COMMENT 'hace referencia a los socios de la tabla socios' REFERENCES socios(NumeroSocio) ON DELETE RESTRICT ON UPDATE CASCADE, 
        FOREIGN KEY(Juego) REFERENCES juegos(IDJuego) ON DELETE RESTRICT ON UPDATE CASCADE 
    ) ENGINE=INNODB;
13  
14  
15  CREATE TABLE ventas (
        IDventa INT AUTO_INCREMENT PRIMARY KEY,
        NumeroSocio INT COMMENT 'Hace referencia a los socios de la tabla socios',
        Juego SMALLINT NOT NULL COMMENT 'Código del juego',
        FechaVenta TIMESTAMP DEFAULT CURRENT_TIMESTAMP NULL,
        Precio DECIMAL(10,2),
        FOREIGN KEY (NumeroSocio) REFERENCES socios(NumeroSocio)
            ON UPDATE CASCADE
            ON DELETE SET NULL,
        FOREIGN KEY (Juego) REFERENCES juegos(IDJuego)
            ON UPDATE CASCADE
            ON DELETE NO ACTION
    ) ENGINE=InnoDB;
16
17  SHOW INDEX FROM socios;
18  DESCRIBE socios;
19  SHOW CREATE TABLE socios;
20  ALTER TABLE ventas ADD nueva INT DEFAULT 0 NULL AFTER Juego;
21  ALTER TABLE ventas ADD (nueva2 INT, nueva3 INT);
22  